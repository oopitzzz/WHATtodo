# WHATtodo Product Requirements Document (PRD)

---

**문서 버전:** 1.0
**작성일:** 2025-11-25
**작성자:** Product Team
**프로젝트명:** WHATtodo
**상태:** Approved

---

## 목차
1. [프로젝트 개요](#1-프로젝트-개요)
2. [비즈니스 목표 및 성공 지표](#2-비즈니스-목표-및-성공-지표)
3. [타겟 사용자](#3-타겟-사용자)
4. [기능 요구사항](#4-기능-요구사항)
5. [비기능 요구사항](#5-비기능-요구사항)
6. [기술 스택 및 아키텍처](#6-기술-스택-및-아키텍처)
7. [UI/UX 요구사항](#7-uiux-요구사항)
8. [개발 일정 및 마일스톤](#8-개발-일정-및-마일스톤)
9. [제약사항 및 리스크](#9-제약사항-및-리스크)
10. [부록](#10-부록)

---

## 1. 프로젝트 개요

### 1.1 프로젝트 목적
WHATtodo는 개인의 시간 관리를 돕고 생산성을 향상시키는 직관적인 할일 관리 플랫폼입니다.

**프로젝트 성격:**
- ✅ 포트폴리오용
- ✅ 상용 서비스 (향후 확장 가능)

**핵심 가치:**
- 간단하고 명료한 일정 관리
- 직관적인 사용자 경험
- 효율적인 시간 관리 지원

### 1.2 제품 개요
WHATtodo는 사용자 인증 기반의 할일 관리 애플리케이션입니다. 사용자는 개인의 할일을 체계적으로 관리하고, 캘린더와 연동하여 일정을 효율적으로 추적할 수 있습니다.

**주요 특징:**
- 할일 생성, 수정, 완료, 삭제 및 복원
- 우선순위 기반 할일 관리
- 마감일 알림 (D-1, D-day)
- 월/주/일 단위 캘린더 뷰
- 휴지통 기능 (30일간 보관)
- 모바일 반응형 디자인

---

## 2. 비즈니스 목표 및 성공 지표

### 2.1 비즈니스 목표
1. 사용자의 생산성 향상을 통한 가치 제공
2. 포트폴리오 품질 향상
3. 실사용 가능한 서비스 구축

### 2.2 성공 지표 (KPI)

#### 사용자 성장
- **목표:** 3개월 내 가입자 500명 달성
- **측정 방법:** 회원가입 수 모니터링

#### 사용자 참여도
- **목표:** 할일 완료율 50% 이상
- **측정 방법:** (완료된 할일 수 / 생성된 할일 수) × 100

#### 사용자 리텐션
- **D7 리텐션:** 30% 이상
- **D30 리텐션:** 20% 이상

#### 기술적 성공 지표
- API 응답 시간: 1000ms 이내
- 시스템 가용성: 99% 이상
- 동시 접속자 처리: 100명 이상

---

## 3. 타겟 사용자

### 3.1 주요 타겟 사용자

| 항목 | 내용 |
|-----|------|
| **연령대** | 20-30대 |
| **직업군** | 직장인, 대학생, 엔지니어 |
| **기술 수준** | 초보 ~ 중급 |
| **주요 니즈** | 효율적인 시간 관리, 간단한 일정 관리 |

### 3.2 사용자 페르소나

#### 페르소나 1: "직장인 김철수"
- **나이:** 30대
- **직업:** 직장인 (사무직)
- **목표:** 간단하지만 명료한 일정 관리
- **사용 패턴:** 하루 10분 ~ 1시간 사용
- **페인포인트:**
  - 복잡한 할일 관리 도구는 오히려 시간 낭비
  - 중요한 업무를 놓치는 경우가 많음
- **기대효과:** 빠짐없는 업무 처리, 생산성 향상

#### 페르소나 2: "대학생 김은호"
- **나이:** 20대
- **직업:** 대학생
- **목표:** 학과 수업과 과제를 위한 할일 관리
- **사용 패턴:** 아침에 주로 사용 (하루 일정 확인)
- **페인포인트:**
  - 과제 마감일을 자주 놓침
  - 여러 과목의 일정을 한눈에 보기 어려움
- **기대효과:** 마감일 관리, 학업 성취도 향상

---

## 4. 기능 요구사항

### 4.1 MVP (v1.0) 범위

#### 필수 기능 (Must Have)
1. **사용자 인증**
   - 회원가입 (이메일, 비밀번호)
   - 로그인/로그아웃
   - JWT 기반 인증 (access_token, refresh_token)

2. **할일 관리 (CRUD)**
   - 할일 생성 (제목, 설명, 우선순위, 마감일, 메모)
   - 할일 조회 (전체, 날짜별, 상태별)
   - 할일 수정
   - 할일 완료/완료 취소
   - 할일 삭제 (휴지통 이동)

3. **할일 정렬 및 필터링**
   - 우선순위별 정렬 (높음 > 보통 > 낮음)
   - 날짜별 정렬
   - 상태별 필터링 (활성/완료/삭제)

4. **휴지통 관리**
   - 삭제된 할일 조회
   - 할일 복원
   - 할일 영구 삭제 (30일 후 자동)

#### 중요 기능 (Should Have)
5. **마감일 알림**
   - D-1 알림 (마감일 하루 전 오전 9시)
   - D-day 알림 (마감일 당일 오전 9시)
   - 알림 ON/OFF 설정

6. **캘린더 뷰**
   - 월간 캘린더
   - 주간 캘린더
   - 일간 캘린더
   - 공휴일 표시

7. **사용자 프로필 관리**
   - 프로필 조회
   - 닉네임 수정
   - 프로필 사진 수정

8. **모바일 반응형 디자인**
   - 모바일 기기 최적화
   - 터치 인터페이스 지원

#### 추가 기능 (Could Have)
9. **태그 기능**
   - 할일에 태그 추가
   - 태그별 필터링

#### 제외 기능 (Won't Have - v1.0)
- 팀 협업 기능
- 통계 대시보드
- 반복 일정 기능

### 4.2 상세 기능 명세

#### 4.2.1 사용자 관리

**FR-001: 회원가입**
- **설명:** 이메일과 비밀번호로 신규 계정 생성
- **입력:** 이메일, 비밀번호, 닉네임
- **출력:** 회원가입 성공 메시지, 자동 로그인
- **검증:**
  - 이메일 형식 검증
  - 이메일 중복 확인
  - 비밀번호 최소 8자 이상
  - 닉네임 2~20자

**FR-002: 로그인**
- **설명:** 이메일과 비밀번호로 로그인
- **입력:** 이메일, 비밀번호
- **출력:** access_token, refresh_token
- **검증:**
  - 이메일/비밀번호 일치 확인
  - 실패 시 에러 메시지

**FR-003: 로그아웃**
- **설명:** 현재 세션 종료
- **동작:** 토큰 무효화, 로그인 페이지 이동

#### 4.2.2 할일 관리

**FR-004: 할일 생성**
- **입력:**
  - 제목 (필수, 최대 100자)
  - 설명 (선택)
  - 우선순위 (HIGH/NORMAL/LOW, 기본값: NORMAL)
  - 마감일 (선택)
  - 메모 (선택)
- **출력:** 생성된 할일 ID
- **후속 처리:**
  - 마감일이 있으면 알림 2개 생성 (D-1, D-day)
  - TodoCreated 이벤트 발생

**FR-005: 할일 조회**
- **조회 옵션:**
  - 전체 할일
  - 날짜별 (특정 날짜, 이번 주, 이번 달)
  - 상태별 (ACTIVE, COMPLETED, DELETED)
- **정렬:**
  - 마감일 오름차순
  - 우선순위 내림차순
- **출력:** 할일 목록 (페이지네이션 지원)

**FR-006: 할일 수정**
- **수정 가능 항목:** 제목, 설명, 우선순위, 마감일, 메모
- **제약:** 본인의 할일만 수정 가능

**FR-007: 할일 완료**
- **동작:**
  - 상태를 COMPLETED로 변경
  - 완료일 기록
  - 관련 알림 비활성화
- **취소:** 완료 → ACTIVE 전환 가능

**FR-008: 할일 삭제**
- **동작:**
  - 상태를 DELETED로 변경
  - 휴지통으로 이동
  - 관련 알림 비활성화
- **보관:** 30일간 휴지통 보관

#### 4.2.3 휴지통 관리

**FR-009: 휴지통 조회**
- **출력:** 삭제된 할일 목록 (30일 이내)

**FR-010: 할일 복원**
- **동작:**
  - 상태를 ACTIVE로 변경
  - 마감일이 미래면 알림 재생성

**FR-011: 영구 삭제**
- **수동 삭제:** 사용자가 직접 영구 삭제
- **자동 삭제:** 삭제 후 30일 경과 시 자동 영구 삭제

#### 4.2.4 알림 관리

**FR-012: 마감일 알림**
- **알림 생성:** 할일 생성 시 자동
- **발송 시점:**
  - D-1: 마감일 하루 전 오전 9시
  - D-day: 마감일 당일 오전 9시
- **발송 조건:**
  - 할일 상태가 ACTIVE
  - 사용자 알림 설정이 ON

**FR-013: 알림 설정**
- **ON/OFF:** 전체 알림 활성화/비활성화

#### 4.2.5 캘린더

**FR-014: 캘린더 뷰**
- **월간 뷰:** 한 달 전체 일정
- **주간 뷰:** 일주일 일정
- **일간 뷰:** 하루 일정
- **공휴일 표시:** 국경일 API 연동

#### 4.2.6 사용자 프로필

**FR-015: 프로필 관리**
- **조회:** 닉네임, 프로필 사진, 가입일
- **수정:** 닉네임, 프로필 사진

---

## 5. 비기능 요구사항

### 5.1 성능 요구사항

**NFR-001: API 응답 시간**
- **목표:** 1000ms 이내
- **측정:** 평균 응답 시간

**NFR-002: 동시 사용자 처리**
- **목표:** 100명 이상
- **방법:** 로드 테스트

**NFR-003: 데이터베이스 규모**
- **예상:** 1,000명 사용자, 20,000개 할일

### 5.2 보안 요구사항

**NFR-004: HTTPS 필수**
- 모든 통신은 HTTPS로 암호화

**NFR-005: 비밀번호 암호화**
- bcrypt 해싱 알고리즘 사용

**NFR-006: JWT 토큰 인증**
- access_token: 15분 유효
- refresh_token: 7일 유효

**NFR-007: CORS 정책**
- 허용된 도메인만 API 접근 가능

**NFR-008: Rate Limiting**
- API 호출 제한: 사용자당 분당 100회

**NFR-009: XSS 방어**
- 입력값 검증 및 이스케이프 처리

**NFR-010: SQL Injection 방어**
- Prepared Statement 사용

### 5.3 가용성 요구사항

**NFR-011: 시스템 가동률**
- **목표:** 99% 이상
- **모니터링:** 24/7 헬스 체크

**NFR-012: 백업**
- **빈도:** 일일 자동 백업
- **보관:** 30일간 보관

### 5.4 사용성 요구사항

**NFR-013: 모바일 반응형**
- 모든 화면은 모바일 기기에 최적화

**NFR-014: 브라우저 호환성**
- Chrome, Firefox, Safari, Edge 최신 2개 버전 지원

**NFR-015: 접근성**
- WCAG 2.1 Level A 준수 (향후 개선)

---

## 6. 기술 스택 및 아키텍처

### 6.1 프론트엔드

| 항목 | 기술 |
|-----|------|
| **프레임워크** | React |
| **언어** | JavaScript (ES6+) |
| **상태 관리** | Zustand |
| **UI 라이브러리** | Tailwind CSS |
| **빌드 도구** | Vite |
| **HTTP 클라이언트** | Axios |

### 6.2 백엔드

| 항목 | 기술 |
|-----|------|
| **런타임** | Node.js |
| **프레임워크** | Express |
| **언어** | JavaScript (ES6+) |
| **API 스타일** | REST API |
| **인증** | JWT (jsonwebtoken) |
| **비밀번호 해싱** | bcrypt |

### 6.3 데이터베이스

| 항목 | 기술 |
|-----|------|
| **DBMS** | PostgreSQL |
| **호스팅** | Supabase |
| **ORM** | 미사용 (SQL 직접 작성) |
| **캐싱** | 미사용 (v1.0) |

### 6.4 배포 및 인프라

| 항목 | 기술 |
|-----|------|
| **프론트엔드 배포** | Vercel |
| **백엔드 배포** | Vercel Serverless Functions |
| **데이터베이스** | Supabase (PostgreSQL) |
| **CI/CD** | 미사용 (v1.0, 수동 배포) |
| **모니터링** | 미사용 (v1.0) |

### 6.5 아키텍처

```
┌─────────────┐
│   Client    │ (React + Zustand + Tailwind CSS)
│  (Vercel)   │
└──────┬──────┘
       │ HTTPS
       │
┌──────▼──────┐
│  REST API   │ (Node.js + Express)
│  (Vercel)   │
└──────┬──────┘
       │
┌──────▼──────┐
│ PostgreSQL  │ (Supabase)
└─────────────┘
```

### 6.6 API 엔드포인트 개요

**인증 API**
- POST `/api/auth/signup` - 회원가입
- POST `/api/auth/login` - 로그인
- POST `/api/auth/logout` - 로그아웃
- POST `/api/auth/refresh` - 토큰 갱신

**할일 API**
- GET `/api/todos` - 할일 목록 조회
- POST `/api/todos` - 할일 생성
- GET `/api/todos/:id` - 할일 상세 조회
- PUT `/api/todos/:id` - 할일 수정
- PATCH `/api/todos/:id/complete` - 할일 완료
- PATCH `/api/todos/:id/restore` - 할일 복원
- DELETE `/api/todos/:id` - 할일 삭제 (휴지통)

**휴지통 API**
- GET `/api/trash` - 휴지통 조회
- DELETE `/api/trash/:id` - 영구 삭제

**사용자 API**
- GET `/api/users/me` - 프로필 조회
- PUT `/api/users/me` - 프로필 수정

**캘린더 API**
- GET `/api/calendar/holidays` - 공휴일 조회

---

## 7. UI/UX 요구사항

### 7.1 디자인 방향

**스타일:**
- ✅ 모던
- ✅ 컬러풀
- ✅ 다크모드 지원

**디자인 원칙:**
- 간결함 (Simplicity)
- 직관성 (Intuitiveness)
- 일관성 (Consistency)

### 7.2 핵심 화면

#### 화면 1: 로그인/회원가입
- 이메일, 비밀번호 입력
- 회원가입 링크
- 에러 메시지 표시

#### 화면 2: 대시보드 (할일 목록)
- 할일 목록 (카드 형태)
- 필터 (전체/활성/완료)
- 정렬 (우선순위/날짜)
- 할일 추가 버튼 (+)
- 체크박스 (완료 처리)

#### 화면 3: 할일 상세/수정
- 제목, 설명, 우선순위, 마감일, 메모 입력
- 저장/취소 버튼
- 삭제 버튼

#### 화면 4: 캘린더 뷰
- 월/주/일 전환 탭
- 날짜별 할일 표시
- 공휴일 표시

#### 화면 5: 설정 (사용자 프로필)
- 닉네임, 프로필 사진 수정
- 알림 ON/OFF 토글
- 로그아웃 버튼

#### 화면 6: 휴지통
- 삭제된 할일 목록
- 복원 버튼
- 영구 삭제 버튼

---

## 8. 개발 일정 및 마일스톤

### 8.1 전체 일정

**개발 시작:** 2025-11-26
**최종 배포:** 2025-11-28
**총 기간:** 3일

### 8.2 단계별 일정

#### Day 0: 기획 및 설계 (2025-11-25)
- ✅ 도메인 정의서 작성 완료
- ✅ PRD 작성 완료
- ⏳ DB 스키마 설계
- ⏳ API 명세서 작성

#### Day 1: 백엔드 개발 (2025-11-26)
- 인증 API 개발
  - 회원가입, 로그인, 로그아웃
  - JWT 토큰 발급/검증
- 할일 CRUD API 개발
  - 할일 생성, 조회, 수정, 삭제, 완료
- 휴지통 API 개발
  - 휴지통 조회, 복원, 영구 삭제
- 공휴일 API 개발
  - 공휴일 데이터 조회

#### Day 2: 프론트엔드 개발 (2025-11-27)
- 화면 개발
  - 로그인/회원가입
  - 대시보드 (할일 목록)
  - 할일 상세/수정
  - 캘린더 뷰
  - 사용자 설정
  - 휴지통
- 상태 관리 (Zustand)
- API 연동

#### Day 3: 테스트 및 배포 (2025-11-28)
- 통합 테스트
- 버그 수정
- 배포
  - 프론트엔드 (Vercel)
  - 백엔드 (Vercel)
  - 데이터베이스 (Supabase)
- 최종 확인

### 8.3 마일스톤

| 마일스톤 | 완료 기준 | 목표일 |
|---------|----------|--------|
| M1: 설계 완료 | DB 스키마, API 명세서 | 2025-11-25 |
| M2: 백엔드 완료 | 모든 API 개발 완료 | 2025-11-26 |
| M3: 프론트엔드 완료 | 모든 화면 개발 완료 | 2025-11-27 |
| M4: 배포 완료 | 프로덕션 환경 배포 | 2025-11-28 |

---

## 9. 제약사항 및 리스크

### 9.1 제약사항

#### 기술적 제약
- **개발 기간:** 3일 (매우 타이트)
- **인력:** 1인 개발 (Full-stack)
- **예산:** 무료 티어 활용 (Vercel, Supabase)

#### 기능적 제약
- **v1.0 범위:** MVP 기능만 포함
- **테스트:** 수동 테스트만 진행 (자동화 테스트 제외)
- **모니터링:** 기본 로깅만 (APM 미사용)

### 9.2 리스크 관리

#### 리스크 1: 일정 지연
- **영향도:** 높음
- **발생 확률:** 중간
- **대응 방안:**
  - 핵심 기능 우선 개발
  - Could Have 기능은 v1.1로 연기

#### 리스크 2: 기술적 난이도
- **영향도:** 중간
- **발생 확률:** 낮음
- **대응 방안:**
  - 검증된 기술 스택 사용
  - 레퍼런스 코드 활용

#### 리스크 3: 배포 오류
- **영향도:** 높음
- **발생 확률:** 낮음
- **대응 방안:**
  - 배포 전 충분한 테스트
  - Rollback 계획 수립

---

## 10. 부록

### 10.1 용어 사전

| 용어 | 정의 |
|-----|------|
| **할일(Todo)** | 사용자가 완료해야 할 작업 항목 |
| **우선순위** | 할일의 중요도 (HIGH/NORMAL/LOW) |
| **마감일** | 할일을 완료해야 하는 목표 날짜 |
| **휴지통** | 삭제된 할일이 30일간 임시 보관되는 공간 |
| **활성(ACTIVE)** | 진행 중인 할일의 상태 |
| **완료(COMPLETED)** | 완료된 할일의 상태 |
| **삭제됨(DELETED)** | 휴지통으로 이동된 할일의 상태 |
| **공휴일** | 국가 공식 휴무일 |

### 10.2 데이터 모델 요약

**핵심 엔티티:**
1. **User** - 사용자 계정 정보
2. **Todo** - 할일 정보
3. **Notification** - 알림 정보
4. **Calendar** - 공휴일 정보

**엔티티 관계:**
- User 1 : N Todo
- User 1 : N Notification
- Todo 1 : N Notification

### 10.3 참조 문서

- [도메인 정의서](./1-domain-definition.md) - 상세 도메인 모델 및 비즈니스 규칙
- [PRD 입력 템플릿](./2-prd-input-template.md) - 작성된 요구사항 정보

### 10.4 승인 기록

| 역할 | 이름 | 승인일 | 서명 |
|-----|------|--------|------|
| Product Owner | - | 2025-11-25 | - |
| Tech Lead | - | 2025-11-25 | - |
| Designer | - | 2025-11-25 | - |

---

**문서 종료**

**다음 단계:**
1. DB 스키마 설계 (`docs/4-database-schema.md`)
2. API 명세서 작성 (`docs/5-api-specification.md`)
3. 개발 시작

## API–UI Mapping Matrix (MVP)
| 화면/컴포넌트           | API                                   | 요청 파라미터/바디                          | 성공 UI                                       | 실패 UI(코드)                      | 상태키       |
|-------------------------|----------------------------------------|---------------------------------------------|-----------------------------------------------|-------------------------------------|-------------|
| **SignupForm**          | POST `/api/auth/signup`                | { email, password, nickname }               | 토큰 저장 → 대시보드 이동                     | AUTH_EMAIL_DUPLICATE, VALIDATION_*  | `auth.*`    |
| **LoginForm**           | POST `/api/auth/login`                 | { email, password }                         | 토큰 저장 → 대시보드 이동                     | AUTH_INVALID_CREDENTIALS            | `auth.*`    |
| **TokenInterceptor**    | POST `/api/auth/refresh`               | { refreshToken }                            | access 교체 후 원요청 재시도(1회)             | AUTH_TOKEN_EXPIRED                  | `auth.*`    |
| **TodoList**            | GET `/api/todos`                       | status, dueFrom, dueTo, sortBy, page        | 리스트 렌더 + Skeleton                         | 서버 에러 토스트                     | `todo.list` |
| **TodoForm(Create)**    | POST `/api/todos`                      | { title, description, priority, due_date… } | 모달 닫기 → 목록 갱신                         | VALIDATION_*, VALIDATION_DUE_DATE_PAST | `todo.form` |
| **TodoForm(Edit)**      | PUT `/api/todos/{id}`                  | 동일                                         | 상세/목록 갱신                                 | TODO_NOT_FOUND, VALIDATION_*        | `todo.form` |
| **CompleteButton**      | PATCH `/api/todos/{id}/complete`       | path: id                                     | 상태=COMPLETED + 체크마크 애니메이션           | TODO_ALREADY_COMPLETED, TODO_NOT_FOUND | `todo.item` |
| **DeleteButton(Soft)**  | DELETE `/api/todos/{id}`               | path: id                                     | 휴지통으로 이동(상태=DELETED)                  | TODO_NOT_FOUND                      | `todo.item` |
| **TrashView**           | GET `/api/trash`                       | page, pageSize                               | 삭제 항목 나열                                 | 서버 에러 토스트                     | `trash.*`   |
| **TrashDeleteForever**  | DELETE `/api/trash/{id}`               | path: id                                     | 목록 갱신                                      | TODO_NOT_FOUND                      | `trash.*`   |
| **TrashRestore**        | PATCH `/api/todos/{id}/restore`        | path: id                                     | 상태=ACTIVE, 목록 갱신                         | TODO_ALREADY_ACTIVE, TODO_NOT_FOUND | `trash.*`   |
| **CalendarView**        | GET `/api/calendar/holidays`           | year, month                                  | 월간 캘린더 표기                               | 서버 에러 토스트                     | `calendar.*`|
| **Settings/Profile**    | GET `/api/users/me`                    | -                                            | 폼 초기화                                      | USER_NOT_FOUND                      | `user.*`    |
| **Settings/Update**     | PUT `/api/users/me`                    | { nickname, notification_enabled, … }        | 저장 토스트                                   | VALIDATION_*, AUTH_*                | `user.*`    |

> 실패 UI 정책: 필드 오류는 인라인, 시스템 오류는 상단 토스트. 토큰 만료는 인터셉터에서 자동 처리(재시도 1회).
